<!DOCTYPE html>
<html>
<head>
    <title>Web map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="css/style.css" rel="stylesheet" media="screen">
    <link rel="shortcut icon" href="img/xu.gif">
    <script src="js/jquery-1.7.2.js"></script>
</head>
<body>

<nav class="nav-top">
    <a id="forkme" href="https://github.com/nate-luup/maps"><img src="img/forkme_right_red.png" alt="Fork me on GitHub"></a>
    <ul>
        <li><a href="javascript:void(0);" class="active">GIS</a></li>
        <li><a href="openlayers.html">Openlayers</a></li>
        <li><a href="googleMap.html">Google Map</a></li>
        <li><a href="examples.html">Examples</a></li>
    </ul>
</nav>

<div class="container">

    <header>
        <h1>WEB MAP</h1>
        <h2>This document simple describe the mechanism of web map</h2>
    </header>

    <div id="main">
        <aside>
            <nav class="nav-main">
                <ul>
                    <!-- GIS -->
                    <li class="nav-header"><a href="#gis">GIS</a></li>
                    <li><a href="#basic">名词解释</a></li>
                    <li><a href="#ogc">开放地理空间协会</a></li>
                    <li><a href="#resolution_scale">分辨率 / 比例尺</a></li>
                    <li><a href="#resolution" class="h3">分辨率</a></li>
                    <li><a href="#scale" class="h3">比例尺</a></li>
                    <li><a href="#degree_radian">角度 / 弧度</a></li>
                    <li><a href="#degree" class="h3">角度</a></li>
                    <li><a href="#radian" class="h3">弧度</a></li>
                </ul>
            </nav>
        </aside>
        <div id="content" role="main">

            <section id="gis">
                <h1>GIS</h1>
                <article id="basic">
                    <h2>名词解释</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="code"><a href="http://baike.baidu.com/item/%E6%9C%AC%E5%88%9D%E5%AD%90%E5%8D%88%E7%BA%BF">本初子午线</a></td>
                                <td>
                                    本初子午线，即0度经线，亦称格林威治子午线或格林尼治子午线
                                </td>
                            </tr>
                            <tr>
                                <td class="code"><a href="https://zh.wikipedia.org/wiki/%E7%BB%8F%E7%BA%AC%E5%BA%A6">经度</a></td>
                                <td>
                                    经度是地球上一个地点离一根被称为本初子午线的南北方向走线以东或以西的度数。
                                </td>
                            </tr>
                            <tr>
                                <td class="code"><a href="https://zh.wikipedia.org/wiki/%E7%BB%8F%E7%BA%AC%E5%BA%A6">纬度</a></td>
                                <td>
                                    纬度是指某点与地球球心的连线和地球赤道面所成的线面角，其数值在0至90度之间。位于赤道以北的点的纬度叫北纬，记为N，位于赤道以南的点的纬度称南纬，记为S。
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </article>
                <article id="ogc">
                    <h2><a href="http://baike.baidu.com/link?url=ScW-PxDxIc9_EZOYUtkcxmSQ6nxlFlVCqz3mf9NtO81m2o2uZq-odxP8FHwCILD6hNkbyITK_jS9aRnW3hhjhq">OGC（Open GIS Consortium）开放地理空间协会</a></h2>
                    <pre>
                        <code>
    开放地理空间协会（Open Geospatial Consortium-OGC），又译为开放地理空间联盟，
    在OGC，490个多个来自世界各地的商业组织、政府机构、非盈利组织和研究性机构在寻求共识的过程中合作，
    <span class="highlight">致力于提供地理信息行业软件和数据及服务的标准化工作。</span>

    OGC是一个非盈利的志愿的国际标准化组织，引领着空间地理信息标准及定位基本服务的发展。
    在空间数据互操作领域，基于公共接口访问模式的互操作方法是一种基本的操作方法。
    <span class="highlight">通过国际标准化组织（ISO/TC211）或技术联盟（如OGC）制定空间数据互操作的接口规范，</span>
    GIS软件商开发遵循这一接口规范的空间数据的读写函数，可以实现异构空间数据库的互操作。
                        </code>
                    </pre>
                    <h3>标准</h3>
                    <pre>
                        <code>
    基于http（Web）XML的空间数据互操作是一个很热门的研究方向，主要涉及Web Service的相关技术。
    OGC和ISO/TC211共同推出了基于Web服务（XML）的空间数据互操作实现规范
    <span class="yellow">Web Map Service，Web Feature Service，Web Coverage Service以及用于空间数据传输与转换的地理信息标记语言GML。</span>

    下面列出一些常用的标准：
                        </code>
                    </pre>
                    <table>
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>GML</td>
                                <td>
                                    地理标记语言：为地理数据提供XML编码
                                </td>
                            </tr>
                            <tr>
                                <td>KML</td>
                                <td>
                                    Keyhole标记语言：是一种基于XML语法标准的标记语言。用于在现在的（或未来的）以网络为基础的二维地图或三维地球浏览器上显示地理数据观察与测量
                                </td>
                            </tr>
                            <tr>
                                <td>WMS</td>
                                <td>
                                    网络地图服务（WMS）:提供地图图像
                                </td>
                            </tr>
                            <tr>
                                <td>WFS</td>
                                <td>
                                    网络要素服务：为检索或改变要素功能说
                                </td>
                            </tr>
                            <tr>
                                <td>WCS</td>
                                <td>
                                    网络地理覆盖服务：提供对地理覆盖数据的接入、构造子集以及处理
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h3>地图服务</h3>
                    <pre>
                        <code>
    Web地图服务（WMS）利用具有地理空间位置信息的数据制作地图。其中将地图定义为地理数据可视的表现。
    这个规范定义了三个操作：
    <span class="highlight">
    GetCapabilities： 返回服务级元数据，它是对服务信息内容和要求参数的一种描述；
    GetMap： 返回一个地图影像，其地理空间参考和大小参数是明确定义了的；
    GetFeatureInfo（可选）： 返回显示在地图上的某些特殊要素的信息
    </span>
                        </code>
                    </pre>
                    <h3>矢量服务</h3>
                    <pre>
                        <code>
    Web地图服务返回的是图层级的地图影像，Web矢量服务（WFS）返回的是矢量级的GML编码，
    并提供对矢量的增加、修改、删除等事务操作，是对Web地图服务的进一步深入。
    OGC Web矢量服务允许客户端从多个Web矢量服务中取得使用地理标记语言（GML）编码的地理空间数据，
    这个服务定义了五个操作：
    <span class="highlight">
    GetCapabilites： 返回Web矢量服务性能描述文档（用XML描述）；
    DescribeFeatureType： 返回描述可以提供服务的任何矢量结构的XML文档；
    GetFeature： 为一个获取矢量实例的请求提供服务；
    Transaction： 为事务请求提供服务；
    LockFeature： 处理在一个事务期间对一个或多个矢量类型实例上锁的请求。
    </span>
                        </code>
                    </pre>
                    <h3>栅格服务</h3>
                    <pre>
                        <code>
    Web栅格服务（WCS）面向空间影像数据，它将包含地理位置值的地理空间数据作为栅格（Coverage）在网上相互交换。
    网络栅格服务由三种操作组成：
    <span class="highlight">
    GetCapabilities： 操作返回描述服务和数据集的XML文档。
    GetCoverage： 操作是在GetCapabilities确定什么样的查询可以执行、
    什么样的数据能够获取之后执行的，它使用通用的栅格格式返回地理位置的值或属性。

    DescribeCoverageType： 操作允许客户端请求由具体的WCS服务器提供的任一覆盖层的完全描述。
    </span>
                        </code>
                    </pre>
                    <p>详细信息可以查看<a href="resources/OGC_SPEC.pdf">OGC标准介绍</a></p>
                </article>
                <article id="resolution_scale">
                    <h2><a href="http://support.supermap.com.cn/DataWarehouse/WebDocHelp/OnlineHelp/Flash3D/G_ProjectDocumentation/C_ResolutionAndScale.html" target="_blank">Resolution and Scale</a></h2>
                    <p>地理现象和地理要素的表达通常是多尺度的，尺度表示了地物的综合程度和位置精度，衡量尺度的概念一般用分辨率或比例尺。</p>
                    <h3 id="resolution">一、分辨率 </h3>
                    <pre>
                        <code>
    在GIS中所提到的分辨率，也称地面分辨率（Ground Resolution）或空间分辨率（Spatial Resolution），
    <span class="highlight">表示一个像素（pixel）代表的地面实际距离。</span>
    以谷歌地图为例：在缩放级别为 1 时，图片大小为4个 256*256 的图片，
    那么赤道上的空间分辨率为：地球赤道周长（实地距离）除以256*2（像素大小）。
    其他纬度上的分辨率则为：纬度圈长度/512。
    <span class="highlight">因此可以看出，分辨率取决于两个参数：纬度和缩放级别。
    缩放级别决定了像素的多少，纬度决定了地面距离的长短。</span>
    因此谷歌地图某视图下的分辨率计算公式为（单位：米/像素）：
    <span class="highlight">
    F(X,Y)：地图分辨率；
    X：纬度值；
    Y：缩放级别；
    R：常量 6378137，表示地球半径，单位：米。
    </span>
                        </code>
                    </pre>
                    <div class="pageImage"><img src="img/resolutionFormula.png"></div>

                    <h3 id="scale">二、比例尺</h3>
                    <pre>
                        <code>
    <span class="highlight">比例尺通常以比率(如 1:10000 )来表示，表示图上距离与实地距离之比。</span>
    例如 1:10000 表示图上 1cm 代表实际距离 10000cm，即100米。
    由于比例尺起源较早，通常用（纸质）图上的距离衡量实际距离；
    <span class="highlight">而分辨率则通常用设备屏幕上的距离来衡量实际距离。</span>
    而同一个地图视图，尺度是唯一的，比例尺和分辨率只不过是两种表示方法，
    因此它们是一一对应的。 比例尺与分辨率之间的换算公式如下：
   <span class="highlight">
    Scale：地图比例尺；
    Resolution：地图分辨率；
    PPI：每英寸的像素点数。
    </span>
                        </code>
                    </pre>
                    <div class="pageImage"><img src="img/scaleFormula.png" /></div>
                    <pre>
                        <code>
    其中 PPI，即 Pixel per Inch，即每英寸的像素点数（在不混淆情况下，也有用 DPI 来表示该参数）；
    <span class="highlight">0.0254 为英寸和米的转换常数。1英寸(in)=0.0254米(m)</span>
    由于比例尺和分辨率一一对应，因此比例尺也取决于纬度和缩放级别两个参数，并且还与 PPI 相关。

    仍旧以谷歌地图为例：
    <span class="highlight">
    当地图处于全幅状态时，上下移动地图，使得地图中心线处纬度发生变化，因此比例尺随之变化；
    同理，当地图处于不同的缩放级别时，地图比例尺同样也会发生变化。
    </span>
                        </code>
                    </pre>



                </article>
                <article id="degree_radian">
                    <h2>Degree / Radian</h2>
                    <p>“弧度”和“度”是度量角大小的两种不同的单位。就像“米”和“市尺”是度量长度大小的两种不同的单位一样。</p>
                    <h3 id="degree">一、度的定义 </h3>
                    <pre>
                        <code>
    两条射线从圆心向圆周射出，形成一个夹角和夹角正对的一段弧。
    当这段弧长正好等于圆周长的360分之一时，两条射线的夹角的大小为1度。
                        </code>
                    </pre>
                    <h3>二、弧度的定义</h3>
                    <pre>
                        <code>
    两条射线从圆心向圆周射出，形成一个夹角和夹角正对的一段弧。
    当这段弧长正好等于圆的半径时，两条射线的夹角大小为1弧度。
                        </code>
                    </pre>
                    <div class="pageImage"><img src="img/degree_radian.png" /></div>
                    <h3 id="radian">三、度跟弧度之间的换算 </h3>
                    <pre>
                        <code>
    1弧度＝180°/π （≈57.3°）
    1度＝π/180 弧度
                        </code>
                    </pre>
                </article>

            </section>

            <footer class="contentinfo">
                development is supported by <a href="http://www.xujiasheng.com">Nate Xu</a> &bull;
                hosted on <a href="https://github.com/nate-luup/javascript">GitHub</a>
            </footer>

        </div><!-- /#content -->
    </div><!-- /#main -->

</div><!-- /.container -->
<a href="#main"><span id="back-to-top"></span></a>
<script src="js/init.js"></script>
</body>
</html>
